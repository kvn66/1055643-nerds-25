var popup=document.querySelector(".modal-write-us"),overlay=document.querySelector(".overlay"),openPopupButton=document.querySelector(".modal-write-us-open"),closePopupButton=popup.querySelector(".modal-write-us-close"),form=popup.querySelector("form"),fullname=popup.querySelector("[name=fullname]"),email=popup.querySelector("[name=email]"),message=popup.querySelector("[name=message]");function storageAvailable(e){var o;try{o=window[e];var l="__storage_test__";return o.setItem(l,l),o.removeItem(l),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&o&&0!==o.length}}var toggleModal=function(){overlay.classList.toggle("overlay--show"),popup.classList.toggle("modal--show")};openPopupButton.addEventListener("click",function(e){e.preventDefault(),toggleModal(),storageAvailable("localStorage")&&(localStorage.getItem("fullname")&&(fullname.value=localStorage.getItem("fullname"),email.focus()),localStorage.getItem("email")&&(email.value=localStorage.getItem("email"),message.focus()))}),form.addEventListener("submit",function(e){fullname.value&&email.value&&storageAvailable("localStorage")&&(localStorage.setItem("fullname",fullname.value),localStorage.setItem("email",email.value))}),closePopupButton.addEventListener("click",function(){toggleModal()}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),toggleModal(),popup.classList.contains("modal-show")&&toggleModal())}),overlay.addEventListener("click",function(){toggleModal()});